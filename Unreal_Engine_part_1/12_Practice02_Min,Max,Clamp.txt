


        연습 문제 Min, Max, Clamp


다시 지금까지 배운것들로 연습문제입니다. 

시작하기전에 문제에 대한 설명이 있습니다. 

먼저 변수를 두개 추가합니다. 
int 타입의 Hp 변수와 마찬가지로 int 타입의 MaxHp 변수를 만듭니다. 자주 만들던 변수죠 RPG나 FPS나 왠만한 게임에는 거의 체력이라는 개념이 등장하기도 합니다. 
이런 체력에 수정이 되는 상황 그러니까 공격을 받아서 체력이 깍인다던가 아니면 힐을 받아서 체력이 회복된다던가하는 게임에서 아주 기초적인 기능을 만들어 보겠습니다. 

먼저 데미지를 10 입는 동작을 해보겠습니다. 키보드 1을 누르는 이벤트를 만들고 입력마다 Hp가 10씩 줄어들지만 0이하로는 내려가지않도록 구현하겠습니다. 
데미지를 입는건 현재 Hp의 값을 10을 뺀다는 건데 이걸 적용하려면 Set Hp 노드가 필요할겁니다. 또 이 세팅된 값이 0이하로 내려가는지를 비교 연산자를 통해 불리언 값을 가져올수 있고 
이 불리언을 브랜치로 분기문을 만들수 있습니다. 만약 데미지를 받은 후의 Hp가 0보다 크면 그냥 바로 출력하고 그게 아니라 Hp가 0보다 작다면 다시 Hp의 최소값인 0으로 Set해준다음 출력합니다. 

두번째 문제는 거꾸로 우리가 힐을 받아서 한번에 20의 체력을 회복할겁니다. 만약 현재 체력이 최대 체력보다 초과한다면 최대 체력까지만 회복하는걸로 할것입니다. 
이것은 사실 위의 문제와 거의 비슷합니다.

원하는 기능을 만들때 지금과 같은 과정을 거쳐도 됩니다. 하지만 눈으로 보기에 지저분한 코드는 이후 보수관리할때 효율이 떨어집니다. 그래서 블루 프린트 자체에서 지원하는 기능이 있습니다 


먼저 Max 입니다. Max(integer) 로 검색하면 나오는 노드입니다. 하는일은 a와 b를 넣어주는데 둘중 더 큰값을 승자로 인식해 리턴해주는 기능입니다. 
이게 지금 Damage 10 이라는 동작과 어떤 관련이 있는가 하면 아까와 마찬가지로 현재 Hp에 10을 빼준값을 Max의 핀 하나에 연결해줄겁니다. 나머지 값은 0으로 둘겁니다. 
무슨의미이냐면 데미지를 받은 Hp값과 0 둘중에 큰 값을 리턴해주겠다는겁니다. 그러면 언제나 최소 0인 값을 리턴하게 되기때문에 위에서 분기문을 사용하던걸 단축할수 있습니다. 

마찬가지로 Min(integer) 를 활용하면 힐을 하는 작업을 처리할 수 있습니다. 


한가지 추가로 Min,Max와 세트라고 할 수 있는 Clamp 라는 기능도 있습니다.
이것은 어떤 값이 있는데 그 값이 Min값과 Max 값 사이를 넘지 않도록 하는 기능입니다. 즉 Min, Max를 같이 사용하는 것입니다. 