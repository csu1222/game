

        Get, Set


지난시간까지 언리얼 블루 프린트에서 변수를 만드는 것 까지는 해봤습니다. 

변수창에서 추가 버튼을 누르고 변수이름 정하고 변수 타입을 정한다음 컴파일,저장 후 변수값을 정해주면 되었습니다. 

이런 변수하나를 만드는 과정이 그냥 툴에서 버튼몇개와 값을 입력해준것 뿐이지만 사실 컴퓨터의 실제 메모리를 건드리는 작업을 한겁니다. 

컴퓨터에는 메모리라고 하는 0과1 이 많이 모여있는 bit덩어리가 있고 그 각각 위치를 주소로 관리하고 있을건데 그 중 어떤 적절한 영역에 적절한 크기의 메모리를 할당 받아 
거기에 어떤 값을 저장해둔것입니다. 
이런 메모리에 대한 내용은 중요한 내용입니다. 

그렇게 해서 메모리에서 공간을 할당받고 그곳에 데이터를 저장하는것까지는 알아 보았고 이어서 이곳에있는데이터를 꺼내 쓰거나 수정하는방법이 필요합니다. 

메모리안에 우리가 원하는 특정값을 넣어달라고 하는것을 Set이라고 합니다. Get은 메모리 안의 값이 궁금해서 물어보는것입니다. 

그럼 이 Get과 Set을 언리얼 블루프린트에서는 어떻게 할 수 있냐 하면 블루프린트창 빈곳을 누르고 Set Hp 를 검색해 배치하고 Get Hp를 검색해 배치하면 각각 박스가 배치가 될겁니다. 
이 박스를 노드라고 할 겁니다. 이 노드는 우리가 어떻게 인식해야 할지 조금 애매합니다. 분명 Hp라는 변수는 따로 있는데 Set Hp, Get Hp라는 변수를 따로 만드는지 햇갈릴 수 있습니다. 
이 노드는 변수를 새로 만든게 아니라 기능을 만든겁니다. 이것은 함수의 개념이 먼저 필요할것같은데 간략하게 함수에 대해 말하자면 

함수 함은 상자를 말하고 수는 말그대로 숫자입니다. 상자안에 input 하는 수가 있고 상자안에서 어떤 작용을 한 후 output이 되는 수가 될겁니다. 
프로그래밍에서도 비슷하지만 조금 다른점이 있는데 어떤 기능을하고 입력값과 출력값이 있을 수도 있지만 프로그래밍에서는 입력과 출력이 반드시 있어야 하는건 아닙니다. 
경우에 따라 입력이 없거나 출력이 없거나 둘다 없을수 있습니다. 이렇게 함수를 대강 알아보고 다시 Get, Set 노드들을 보겠습니다. 

이 노드들은 이제 그냥 기계, 기능이라고 볼 수 있습니다. 
Set Hp 는 Hp 변수의 값을 세팅한다. Get Hp는 Hp라는 변수 메모리에 있는 값을 읽어온다 라는 기능인겁니다. 
그리고 이렇게 만든 Set과 Get을 배치했다고 해서 그 자체로 동작하는것은 아닙니다. 어떤 이벤트를 트리거로 삼아야 실행이 됩니다. 
처음 부터 있던 BeginPlay 이벤트 라던가 틱 이벤트의 오른쪽 삼각형과 Set Hp의 왼쪽 삼각형을 이어주면 됩니다.
한번 트리거가 실행되면 선이 이어져 있는곳까지 쭉 진행된다고 했는데 예를 들어서 Set HP 의 다음으로 이전에 알아봤던 PrintText 함수를 이어줄 수 있습니다. 

그러면 Seting 이라는것 자체가 Hp 변수가 할당받은 메모리에 임의의 값을 넣어준다 라고 했습니다. 그 어떤 값을 넣어준다는게 왼쪽 삼각형 아래에 있습니다. 
여기가 인자들이 들어올 자리라고 할 수 있습니다. 그래서 세팅할때 가장 핵심은 왼쪽 입력값입니다. 다음으로 세팅한 값을 화면에 출력하는것을해볼건데 
변수의 값을가져올때는 Get을 사용한다고 했습니다. Get은 입력값은 없고 출력값만 있습니다. 그런데 Get은 조금 신기한것이 트리거로부터 실행 줄을 잇는게 없습니다. 
왜냐면 데이터를 읽어오는것 자체는 별 의미가 없고 읽어온 값을 가지고 뭔가를 해야 의미가 있습니다. 
그래서 PrintText에 Get Hp 를 이어보면 자동으로 어떤 함수가 생성됩니다. 프로그래밍언어에서 캐스팅이라고 부르는 함수입니다. int 타입인 Hp를 text로 변환해준겁니다. 
그리고 PrintText 함수를 보면 밑에 화살표늘 눌러 펼쳐보면 인풋 값이 다양하게 있는걸 알수 있습니다. 하지만 아웃풋은 하나도 없는데 Print를 한 후 딱히 반환할 것이 없기 때문입니다. 

항상 Set과 Get을 따로 만들어 연결해줘야 해야 되나 싶은데 그렇지 않습니다. Set Hp를 잘 보면 오른쪽에 아웃풋이 있습니다. 커서를 가져다 대면 Set한 값을 바로 Get해준다고 합니다. 
그러니까 Set에는 기능이 하나더 있는겁니다. 변수에 값을 넣어주기도 하고 곧바로 Get까지도 해줍니다. 

이렇게 해서 이번시간에는 대입 연산자에 해당하는 Get과 Set에 대해 알아봤습니다. 