

    배열 


동적배열의 이론적 배경을 알았으니 블루 프린트에서 구현해보겠습니다. 

레벨 블루 프린트에서 사용하기 편하게 int 타입 변수 하나를 만들어 봅니다. 컴파일하고 이 변수 옵션을 보면 변수 타입 옆에 한가지 화살표로 열수 있게 되어있습니다. 
거기서 Array, 배열타입으로 바꿔주면 바둑판 모양으로 아이콘이 바뀝니다. 
이상태에서 컴파일 저장해 변수 옵션을 다시보면 이전에 변수 값에는 그냥 한가지 값만 입력하고 끝이었는데 이제는 몇개의 요소로 이루어져있는지 + 버튼으로 추가할 수 있습니다. 
+로 추가 할때 마다 원소가 하나 씩 추가되고 0번부터 인덱스가 할당됩니다. 

하지만 실제 작업에서는 이처럼 직접 배열 원소를 하나씩 직접 입력하기보다는 코드로 자동 추가되도록 할겁니다. 

배열의 기능을 하나씩 알아볼건데 배열 변수르 드래그 드롭을 해보면 똑같이 Get과 Set이 있다는걸 알 수 있습니다. 
보통은 Set을 바로 사용하기 보다는 Get을 한다음 이어서 다른 기능을 사용하는 경우가 많다고 합니다. 핀을 드래그 해서 보면 여러 기능들이 나오는데 Utility -> Array 쪽을 열어보면
배열에 관한 기능들이 다양하게 들어있습니다. 

먼저 배열에 이미 데이터가 있다고 했을때 그 안에 데이터를 얻어오려면 어떻게 해야 할까요?
배열 기능중에 Get을 검색해보면 두가지 복사전달과 참조전달 방식이 나옵니다. 이건 저번에 배운 내용입니다. 단순히 배열의 값을 읽는 목적으로 할것이라면 복사 방식으로도 충분합니다.
그리고 배열 Get 함수는 어떤 정수를 입력받는데 여기에는 몇번째 데이터를 원하는지 인덱스를 받습니다. 
데이터 하나하나씩 꺼낼 수도 있지만 모든 데이터를 하나씩 전부 꺼내고 싶을때는 이전에 배운 for 문을 사용하면 됩니다. for 문의 인덱스를 배열의 크기만큼 반복하도록 하면 데이터 전부를 꺼낼수 있습니다. 
여기서 for 문의 반복수를 직접 입력하는건 하드 코딩입니다. 배열의 크기를 가져올 수 있다면 정말 알아서 배열의 모든값을 꺼낼수 있을겁니다.
그 기능이 Length 라고 하는 배열 기능입니다. Length는 배열의 데이터 갯수를 반환하고 여기에 1을 뺀 값이 인덱스가 됩니다. 

이런식으로 배열을 순회하면 아무리 원소들이 늘어도 모든 원소 꺼내기가 알아서 진행됩니다. 

for 루프 말고 또 다른 방법이 있는데 For Each 루프 For Each with Break 라는 시리즈가 있습니다. 배열 전용으로 해주는 기능인데 위의 for 루프를 좀 더 편하게 할 수 있습니다. 
배열을 입력핀에 연결해주면 순회 크기를 정하는것과 순회중인 인덱스와 그 값을 꺼내는걸 알아서 해줍니다. 

배열의 내용물을 꺼내는것은 이렇게 간단하게 알아 봤고 

이번에는 배열에 원소를 추가하는 방법을 알아볼건데 지금까지는 배열변수의 옵션에서 직접 추가해주고 있었는데 이렇게 하나하나 직접 만드는건 분명 좋은 프로그램이 아니고 
코드상으로 처리할 수 있는 기능인 Add 노드를 알아보겠습니다. Add의 입력값을가진 배열원소가 추가됩니다. Add 시리즈중에 AddUnique라는 기능도 있습니다. 

이외에도 기능들의 이름을 보면 어떤 기능인지 설명이 됩니다. 예를 들어 Clear라는 노드를 실행하면 배열의 모든 원소를 싹 날려주고 
Contains Item 이라는 노드는 배열안에 어떤 값을 가진 원소가 있는지를 불리언으로 뱉어주고 Find라는 노드는 원하는 값이 있는지 확인하고 만약 있으면 그 원소의 인덱스를 뱉어줍니다. 

또 자주 사용하는 기능중에 Resize라고 있는데 이전에 동적 배열이 이사를 할때 미리 좀 더 넒은 메모리를 할당한다고 했는데 
이 Resize는 직접 얼마나 미리 할당받을지 정해 주는 기능입니다. 그냥 빈 배열에 Resize 100을 하게되면 0으로 비어있는 원속 100개가 미리 만들어 집니다. 
Resize로 미리 만들어진 원소의 값을 수정하기위해서는 Set Array Element 노드를 사용하면 됩니다. 