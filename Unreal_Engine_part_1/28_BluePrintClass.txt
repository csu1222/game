


        블루프린트 클래스 



객체지향에 대한 이야기를 시작하면서 블루프린트 클래스도 같이 알아볼겁니다. 

매우 중요한 내용입니다. 
왜 중요한지 설명을 해보겠습니다. 지금까지 배운 기능들로 게임을 만들어본다고 해보겠습니다. 

아트 리소스가 없으니 그냥 실린더를 하나 배치해서 Player1이라고 이름 지어봤습니다. 여기서 또 다른 플레이어가 필요하다 하면 복사 붙여넣기로 
추가로 배치할겁니다. 
여러 플레이어가 배치된 상황에서 어떤 기능을 추가해야할 수 있습니다. 예를 들어서 플레이어가 이동하는 기능이라던가 전투를하고 아이템을 줍는 기능이 필요할겁니다. 

그런데 이 기능들을 어디서 만들어야 하는지 궁금합니다. 
지금까지 레벨 블루 프린트라는 곳에서 작업을 했었습니다. Map에서 플레이어 오브젝트를 선택하는 중에 레벨 블루 프린트에서 우클릭을 해보면 플레이어오브젝트에 대한 참조를 가져올 수 있습니다.

그리고 이 플레이어를 어디로 이동시키고 싶다 하면 Set Actor Location이라는 함수가 있습니다. 이 기능을 활용해 어떤 키를 누르면 그걸 이벤트 삼아 플레이어를 이동시킨다던가 할 수 있는겁니다.
이건 이번시간에 알아볼 내용은 아니고 하고 싶은 것은 플레이어가 1개라서 블루프린트에서 작업을 하고 있지만 플레이어가 한두마리가 아니라 몇백명의 몬스터와 플레이어가 뒤엉켜 싸우는 게임이라고 하면 
어떻게 만들어야 할까요?

플레이어 하나마다 참조를 가져오는 방법이 아니라 맵상의 모든 액터를 가져오는 기능도 있습니다. Get All Actor Of Class 라는 기능이 모든 액터 오브젝트를 가져오는 기능이긴한데 

레벨 블루 프린트 창에서 모든 오브젝트들을 관리한다고 하면 나중에는 관리가 굉장히 힘들겁니다. 플레이어, 몬스터 뿐만아니라 파이어볼 같은 투사체도 있을것이고 땅에 떨어진 아이템들도 있을것이고 
정말 많은 오브젝트들이 있을수밖에 없는 상황이 생기고 어떤 코드를 찾기위해서 스크롤만 몇분을 내리면서 찾아야 할 수 있는겁니다. 

그래서 이런식으로 관리하는게 아니라 모든 것을 객체 단위로 생각해서 관리하게될겁니다. 객체 지향 프로그래밍이라는것 자체가 모든것을 객체 단위로 생각한다는겁니다. 
예를 들어 플레이어는 플레이어와 관련된 코드들을 모아놓은 곳에서 작업하고 다른 객체들도 각자 관련된 코드들을 모아 관리하는것입니다. 
플레이어,몬스터, 아이템 같은 것 말고도 추상적인것들도 객체로 볼 수 있는데 플레이어가 게임의 로비에 접속했다고 하면 이 로비는 딱 보이는 물체는 아니지만 객체라고 볼 수 있습니다. 

그리고 클래스는 이 객체에 대한 설계도 입니다. 

언리얼 엔진에서 블루프린트 클래스를 그럼 어떻게 사용하는가 하면 DevMap 화면에서 컨텐츠 브라우저로 갑니다. 빈곳을 우클릭해보면 자주 사용할 기능이다 보니 BluePrint Class가 바로 보일겁니다.
그게아니면 그냥 블루프린트 란으로 가서 블루프린트 클래스를 만들 수 있습니다. 
그리고 생성하게되면 어떤 부모클래스를 상속받을지를 골라 줄 수 있습니다. 상속에 대한 자세한 내용은 아진 다루지 않았지만 일단 액터를 상속 받아줍니다. 
더블클릭해 창을 열어주면 레벨 블루프린트 창처럼 이벤트 그래프 창도 있지만 처음보는 Construction Script라는 창과 ViewPort 라는 창도 같이 띄워져있습니다.

이 뷰포트라는 창은 객체중에서도 배치가 되었을때 인게임 화면에서 어떤 모양으로 보인다면 그걸 미리 보기 형식으로 보여주는게 뷰포트입니다. 


블루프린트 클래스를 하나씩 살펴보겠습니다.
먼저 클래스라는 개념은 하나의 설계도라고 합니다. 혹은 붕어빵 틀에 비유를 많이 한다고 합니다. 
마찬가지로 클래스로 어떤 객체가 어떤 기능이 있고 어떤 데이터를 들고 있을지 설계를 잘 한다음 똑같은 객체를 찍어낼 수 있습니다. 

클래스에는 무엇이 들어가야 하는가 하면 프로그래밍이 그렇듯 데이터와 로직을 넣어줍니다. 어떤 데이터를 들고 있을지 어떤 로직이 담긴 함수로 기능할지를 설계해주면 되는데 
자세한 내용은 이후에 알아볼것이고 일단 이번시간에는 대강 모양만 만들어 볼겁니다. 

클래스라는 설계도나 함수와 같이 코드를 묶어서 관리하다보면 공통적인 장점이 같은 종류의 객체에 대해 사양이 바뀐다고 했을때 일괄적용하기가 쉽다는 점이 있습니다. 
기능들을 추가하려면 왼쪽 컴포넌트 창에서 추가를 하면됩니다. 기본 셰이프 란에서 실린더를 선택해보면 뷰포트 창에 실린더가 생성됩니다. 

이제 앞으로는 객체에 대한 정보, 기능 들을 레벨 블루프린트에서 넣어 놓는게 아니라 블루 프린트 클래스라는곳에 모두 넣어 놓아야 합니다. 