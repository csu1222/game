


        사칙연산 


지난시간에 변수의 값을 수정하는 Set, 값을 읽어오는 Get 을 알아 봤습니다. 
Set, Get 을 하는 방법으로 우클릭후 검색 배치 하는 방법을 알아봤는데 그 외에 왼쪽 변수 칸에서 직접 드래그 드롭 한 후 Set,Get을 골라 배치하는 방법도 있습니다. 
아니면 ctrl 을 누른 상태에서 드래그 드롭하면 Get, alt를 누르고 드래그 드롭하면 Set이 배치됩니다. 

이어서 이번에 알아볼것은 사칙연산을 비롯한 데이터를 가공하는 실습을 해보겠습니다. 
데이터를 가공할수 있어야 훨씬 유의미한 일을 할수 있습니다. 

사칙연산도 다 준비 되어있는데 다른 노드를 만들때와 마찬가지로 우클릭후 검색해 배치할 수 있습니다. 
덧셈은 +, 뺄셈은 -, 곱셈은 *, 나눗셈은 / 을 검색하면 됩니다. 
이 연산자 노드는 왼쪽에 인풋이 두개를 받고 오른쪽으로 아웃풋이 나옵니다. 딱 봐도 왼쪽으로 넣은 두 값을 연산해 오른쪽으로 반환해주는것같습니다. 

그런데 입력핀에 커서를 가져다 대면 와일드 카드라고 설명이 뜨고 우클릭을해 타입을 지정할 수 있다고 합니다. 예를들어 가장 많이 사용할 integer 타입으로 지정해줄수 잇습니다. 
거기에 항상 두 수를 연산해야하는게 아닌 연산할 수도 늘릴 수 있습니다 

연산자 노드의 타입을 따로 지정하던가 아니면 와일드 카드 상태에서 연산하고싶은 변수를 바로 연결해주면 그 타입으로 지정이 됩니다.

햇갈릴수 있는 점은 어떤 변수의 값을 연산을 했다고 해서 변수의 값이 변한건 아닙니다. 그것은 Set 이 할 일이기 때문에 연산자 노드의 오른 핀을 Set 에 이어주어야 변수의 값이 수정되는것입니다. 

여기까지만 알면 사칙연산은 충분하지만 좀 더 알아보자고 하면 

사칙연산중 까다로운 연산이 하나 있습니다. 나눗셈인데 지금 알아볼 문제는 블루프린트만의 문제는 아니고 다른 프로그래밍언어들 공통의 문제입니다. 
일단 integer 타입의 나누기 노드를 만들었습니다. 

이 나누기 노드에서 5 / 0 을 연산 해볼겁니다. 프로그래밍언어에서는 5 / 0 이란게 존재 하지 않기 때문에 C++ 이나 C#에서는 그냥 크래시가 나면서 뻗어버립니다. 
블루프린트에서는 어떤 문제가 일으킬지 한번 테스트 해보겠습니다. 결과는 그냥 0으로 뜨고 딱히 크래시가 나지는 않습니다. 
이것은 그나마 다행이다 라고 할 수 있습니다. 

다음은 2 / 3 을 해보겠습니다. 실제 수학에서 답은 0.6666... 이라는 값이 될겁니다. 그렇기 때문에 이걸 해보면 0.67정도 뜨지 않을까 싶습니다. 하지만 테스트 해보면 0이라는 값이 뜹니다.
현업에서도 하는 실수중 하나입니다. 캐릭터 초상화에 현재 체력이 몇인지 퍼센트로 표시하고 싶어서 현재 체력 / 최대 체력을 하다보니 계속 0이 뜨고 엉뚱한 값이 나옵니다. 
그 원인은 단순한데 프로그래밍에서는 정수와 정수를 나눠서는 정수가 튀어나와야합니다. 하지만 이건 나눗셈에서는 보장할수없습니다. 
해결책은 나눗셈을 할때는 integer로 만드는게 아닌 float로 만들어주는겁니다. 2.0 / 3.0 이런식으로 만들어 다시 테스트 해보면 이제야 0.667 이라는 납득할만한 값이 나옵니다. 

그런데 지금처럼 float라고 직접 설정해서 하는게 아닌 이미 사용중이던 integer 변수를 사용해야 한다면 integer 변수들을 잠시나마 float로 변환해 연산하는 방법이 있습니다. 