


    블루프린트 기초 


본격적으로 블루 프린트에 대해 알아보겟습니다. 

일단 프로젝트는 지난시간에 만지던것들을 삭제한 상태에서 시작하겠습니다. 

블루프린트를 시작하려면 재생버튼 왼쪽으로 두칸 가면 있는 옆으로 누운 노드모양을 클릭합니다. Open Level Blueprint 레벨 블루프린트 열기합니다.

그러면 모눈종이 같은 화면에 검은 박스 두개가 떠있습니다. 

계속 나오는 용어로 레벨이 있는데 언리얼에서는 어떤 맵이 있으면 그걸 레벨이라고 합니다. 유니티에서는 씬이라고 부르는 개념입니다. 
레벨을 하나 만들때 마다거기에 딸려서 새 레벨 블루프린트라는게 생성이 됩니다. 여기에 우리가 기본적으로 게임이 실행될때 동작할 코드들을 넣을 수 있습니다. 

레벨 블루프린트는 하나만 만들면 게임 전체에 적용되는게 아니라 말그대로 한 레벨에 짝을 지어서 움직이는 이기 때문에 새 레벨을 만들면 블루 프린트도 당연히 새로 작성해줘야합니다. 

일단 우리는 이 DevMap 이라는 레벨을 블루프린트에 적응하기 위한 용도로 사용할 것이기 때문에 다른 레벨과의 동기화 같은건 별로 고려하지 않아도 됩니다. 

블루 프린트 창에서도 이것저것 기능이 많아 보이는데 가장 처음 해볼것은 우클릭후 printtext 를 검색해 만들게 되면 새로운 박스가 하나 뜹니다. 

이미 떠있던 박스들도 두개 있는데 BeginPlay 이벤트, 틱 이벤트 라고 적혀있습니다. 이중 BeginPlay박스 우하단에 플레이버튼을 드래그해서 PrintText의 왼하단 플레이에 이어줍니다. 
그 후 위의 버튼중 컴파일, 세이브를 한번씩 눌러준 다음 다시 DevMap으로 돌아와 플레이 버튼을 누르면 조그맣게 hello 라는 문자가 출력됩니다. 
이 작업이 프로그래밍 처음에 하는 의식같은 hello world 대신 해봤습니다. 

그러면 어떻게 해서 hello 라는 문자가 출력된건지 생각해보겠습니다. 
먼저 BeginPlay 이벤트, 틱 이벤트라는 '이벤트'라는 개념은 일종의 트리거라고 보면됩니다. 어떤 상황에서 이게 호출이 될것이라는 약속을 하는겁니다. BeginPlay 이벤트 같은경우는 
게임이 실행되는 동시에 딱 한번 실행되는 이벤트이고 틱 이벤트라는것은 게임이 실행되는 매 프레임 마다 계속 실행이 될겁니다. 
여기서 프레임은 초당 몇번의 화면이 갱신되는지입니다. 
이런 이벤트는 우리가 직접 만들수도 있습니다. 우클릭 후 keyboard1(한글로는 키보드1) 이라는 이벤트를 검색해 추가하면 이 이벤트로 1을 누르게 되면 트리거가 되서 실행이 된다는 말입니다. 
이벤트가 실행이 되면 바로 이어진 노드 하나만 딱 실행되는게 아닌 이어져있는 것들을 전부 실행해주려합니다. 

이것 말고도 많은 기능들이 있지만 이번시간에는 가장 기본이 되는 조작법을 알아볼겁니다. 
블루프린트 빈공간은 우클릭을 한뒤 마우스를 움직이면 작업 공간을 이동할 수 있고 스크롤을하면 확대/축소도 가능합니다. 
그리고 어떤 박스를 클릭하게 되면 노란 테두리가 생기면서 그 박스를 선택했다고 알려줍니다. 이 선택상태에서 ctrl+c, ctrl+v 로 복사 혹은 ctrl+d 로 바로 복사가 가능합니다. 
복사하던지 추가한 박스끼리 화살표를 쭉 이어서 연결해주면 hello가 한번 뜨는게 아니라 연결해준 만큼 실행이 됩니다. 

이렇게 코드를 비주얼 적으로 작성한 다음은 컴파일/세이브 까지 꼭 해주는게 정석입니다. 
컴파일은 뭐냐면 우리가 작성한 코드를 컴퓨터가 이해할수 있도록 변역을 하는게 컴파일입니다.
블루프린트도 일종의 프로그래밍 언어라고 볼 수 도 있기때문에 작성만 하는게 아니라 컴파일을 하면서 문법에 문제가 없는지 컴퓨터가 이해할수 있는지를 확인합니다. 

지금 BeginPlay 이벤트에 hello 프린트가 세개 묵여있는상태인데 여기서 한번더 장난을 쳐보겠습니다. 드래그로 이 뭉치를 한번에 선택한다음 c 를 누르면 코멘트를 달 수 있는데 
이게 주석이라는 의미입니다. 코드에는 아무런 영향이 없는데 개발하는 사람이 알아보기 쉽도록 메모를 하는 기능입니다. 

다음은 선에 대한 사용법입니다. 지금이야 아무것도 없이 박스 몇개만 있기때문에 선이 지저분 할 수 있다는걸 생각하지못합니다. 
하지만 나중에는 다르겠죠 그래서 선을 정리하는 선 이동을 하려면 움직이려는 선을 더블클릭하면 중간에 어떤 점이 생깁니다. 이 점을 alt를 누를 상태에서 드래그하면 선 이동이 됩니다. 
그냥 전선이라고 생각하면 됩니다. 

그리고 이 선을 또 다른 프린트 박스에 연결하고 싶으면 어떻게 해야할까요 이벤트인 BeginPlay이벤트의 재생 버튼을 우클릭하고 이 링크 끊기 를 하면 연결을 다 끊을 수 있는데 
이 연결끊기는 자주할 동작일텐데 매번 우클릭하고 원하는 동작을 선택하기는 귀찮습니다. alt를 누르는 상태에서 끊을 재생버튼을 왼클릭하면 됩니다. 
끊은 상태에서 다른 박스에 연결을 하는것도 방법이고 또하나의 방법은 연결끊고 어쩌고 하는게 아닌 곧바로 연결을 이동해주는 방법은 이어진 프린트 박스쪽 선을 ctrl 을 누르고 
드래그 해서 잇고 싶은 박스에 연결하는 방법입니다. 

오해할만한 내용도 있습니다. 선이 연결된 박스들은 왠지 연결된 순서대로 나열되어 있어야 할것 같지만 사실은 아무렇게나 배치해도 연결된 선을 기준으로 실행이 됩니다. 
그렇상황에서 선정리를 하려면 정리하려는 박스들을 다중 선택후 Q를 누르면 1열로 정리가 됩니다. 완전하게 정리되지는 안지만 대강은 정리가 됩니다. 

여기까지 조금 훑어봤는데 아직 알아볼만한 내용들이 공식문서에서도 몇십페이지가 있습니다. 
만약 개발을 하다 어떤 기능이 필요해지면 그것을 검색해 기능이 있는지 단축키가 무엇인지를 찾아 사용하면 됩니다. 