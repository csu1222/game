

    UI 애니메이션


이번시간에는 아주 중요한 내용은 아니지만 간단하게 UI 애니메이션을 만들어 보는 실습을 해보겠습니다.
WBP_UI 창을 연상태에서 상단에 창 옵션을 열어보면 애니메이션 창을 열수 있습니다. 
애니메이션 창이 디자이너창 하단에 열릴건데 이게 뭘 하는 기능이냐면 UI 에서 특수효과를 준다거나 UI 창이 떨리는 효과 같은걸 주려고 할때 사용합니다.

예를 들어서 이전시간에 추가한 ShootCountText 의 카운트가 늘어날때 마다 떨리는 효과를 넣고 싶다면 
애니메이션 창에서 애니메이션 추가 버튼을 눌러 새 애니메이션을 만들어주겠습니다. 이름은 ShootCountAnimation 이라고 하겠습니다. 
그리고 나서 이 UI 애니메이션이 무엇을 트랙킹할것인지를 골라주겠습니다. ShootCountAnimation 를 선택하고 오른쪽 창에서 트랙을 추가하는 버튼을 누릅니다. 
어떤 대상으로 트랙을 추가할지 골라주게 되는데 ShootCountText 를 대상으로 선택해줍니다.

그런데 ShootCountText 도 많은 데이터들을 가지고 있기 때문에 그 중에서 또 무엇을 건드려 애니메이션을 동작 시킬지 골라줘야하는데 
지금 하려는것은 텍스트가 떨리는 애니메이션을 만들것이기 때문에 Transform 에 대해 만들어줄것이고 또 트랜스폼 안에서도 이동 회전 스케일 등등 세부 사항을 조절해 줄 수 있습니다.

애니메이션이 진행됨에 따라 텍스트를 움직이고 싶다면 대략적으로 키 프레임을 설정해서 대략적으로 1초 동안 무언가 애니메이션이 일어나도록 해보겠습니다.
여기서 이동쪽 X 좌표에 보면 + 버튼이 있고 눌러보면 1초 시점에 키가 생깁니다. 생긴 키의 값을 25 정도로 주면 0프레임일때는 제자리에 있던 텍스트가 1초 경과했을때 오른쪽으로 25픽셀만큼 
이동하는 애니메이션이 만들어 집니다. 이것을 이용해서 이동 뿐만아니라 적절한 애니메이션을 만들 수 있을겁니다.

예를 들어서 스케일을 조절해서 텍스트크기도 커지는 애니메이션을 만 들 수 있을겁니다. 스케일도 1초에 키를 추가해 1초가 되었을때 1.3배 커지도록 만들어 보겠습니다.

이런것들을 잘 활용하면 어떤 액션을 했을때 좀 더 생동감 있는 UI 를 만들 수 있을겁니다. 
보통 유니티에서는 트윈 애니메이션이나 외부 라이브러리를 이용해 구현한다고 하는데 언리얼에서는 툴 자체에서 제공합니다. 

우리가 실제로 조절한 값은 1초인 시점의 키값 밖에 없는데 그 사이의 값들은 어떻게 되는지를 보고 싶으면 애니메이션 창 상단에 그래프 모양 아이콘이 
Show the animation keys in a curve editor 라는 버튼을 눌러보면 어떤 커브를 가지고 사이 값들이 보간될건지를 수정할 수 있습니다.

아무튼 애니메이션의 이것 저것을 만져서 우리만의 UI 애니메이션을 만들었다고 하면 실질적으로 이 애니메이션을 호출해 사용할 수 있게 되는데 

우리는 TestButton의 OnClick 함수에서 이 애니메이션을 재생해주도록하겠습니다. WBP_UI 의 이벤트 그래프를 가보면 OnClick 이벤트가 있는데 또 변수창에 Animation 아래로 
방금 만들었던 ShootCountAnimation 이 있습니다. Get 으로 가져와 배치하고 Play Animation 이라는 함수를 배치합니다. 여러 입력값들이 있는데 
애니메이션의 어느 프레임부터 재생할지 몇번 반복할지 언제 시작할지 재생 속도는 어떻게 할지 등등 이 있습니다. 그 중에 Play Mode 라는것 에서 Forward, Reverse 를 골라줄 수 있는데
이것도 유용합니다. 우리가 지금 오른쪽으로 움직이면서 커지는 애니메이션을 만들었는데 이것을 Reverse 로 바꾸면 거꾸로 애니메이션을 재생해주게됩니다. 

한번 테스트를 해보겠습니다. 다만 게임모드에서 Set Input Mode UI Only 를 연결해줘야 인게임에서 커서를 움직일 수 있을겁니다.

이런 디자인적인 것들은 프로그래밍 실력이라기 보다는 미적인 감각이 더 중요할 것입니다. 

UI 가 좀 더 어려울 수 있는것들은 UI는 딱 정해진 방법이 있지는 않고 각자 원하는 그림에 따라서 UI 를 만들면 되는것이기 때문에 대형 게임회사에는 UI 전문 팀이 있어서 전담한다고 합니다.

그래도 처음 공부할때 권장하는 방법은 이미 만들어진 UI를 뜯어보면서 노하우를 습득하는것을 권장합니다. 
그런 의미에서 UI 애니메이션을 실습하는것은 여기서 마치고 다음 강의에서 샘플 UI를 분석해보는 시간을 가져보겠습니다.