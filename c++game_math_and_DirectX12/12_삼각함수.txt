

	12. 삼각함수


이번시간부터는 게임 수학에 대해 배우겠습니다.

게임에서 사용하는 수학은 생각보다 어려운 개념들을 활용하지는 않고 

크게 삼각함수, 벡터, 행렬 세가지 개념으로 대부분 충분하다고 합니다. 

고등학생때에나 배웠던 개념이니 만큼 이번 기회에 다시 배워보겠습니다.


# 용어 
직각 삼각형 : 세각중 하나의 각도가 90도인 삼각형
빗변 : 직각 삼각형에서  각도가 90도인 각의 맞은 편에 있고, 3변중 가장 긴 변 (참고 : 영어로는 hypotenuse)
밑변 : 직각 삼각형의 세 변중 지면과 평행하게 가로로 놓여있는 변		(opposite)
높이 : 직각 삼각형의 세 변중 지면과 수직하게 세로로 놓여있는 변		(adjacent)
피타고라스의 정리 : 빗변^2 = 밑변^2 + 높이^2
cos : 빗변의 길이 / 밑변의 길이 약자로는 a/h
sin : 빗변의 길이 / 높이의 길이  o/h
tan : 밑변의 길이 / 높이의 길이 o/a   ( sin / cos 라고도 표현할 수 있습니다. )
단위 원(unit circle) : 개념적으로 원의 중심이 (0, 0)이고 반지름이 1인 원
호도법 : 호의 길이를 이용해서 각도를 표시하는 방법
역함수 : 정의역과 치역(함수값)을 뒤바꾸어 얻는 함수(그래프로 보면 x축과 y축이 의미하는 바를 바꿔서 표현하는 함수)
정의역 : 함수에서 허용하는 입력 집합, f(x) = y 라는 함수에서 x에 올 수 있는 수의 범위
치역 : 함수에서 입력값이 함수를 통해 나올 수 있는 출력 집합, f(x) = y 라는 함수에서 y에 올 수 있는 수의 범위
arcsin(B) = A : sin의 역함수 비율(B)를 인자로 주면 각도(A)를 반환
arccos(B) = A : cos의 역함수 비율(B)를 인자로 주면 각도(A)를 반환
arctan(B) = A : tan의 역함수 비율(B)를 인자로 주면 각도(A)를 반환
코사인 법칙 : a^2 = b^2 + c^2 - 2bc(cosx)
#

# 삼각형
삼각함수에 대해 알기 위해서는 일단 삼각형이 있어야 겠습니다. 
이번시간에 사용할 삼각형은 직각 삼각형인데 
각각 꼭지점은 a, b, c 라고 하겠습니다. a의 각도는 30도, b의 각도는 60도, c의 각도는 90도인 직각삼각형입니다.

수학자들이 삼각형을 아주 오랬동안 연구 했을것입니다. 실생활에 자주 사용되고 도형을 만들수 있는 가장 작은 단위 이기도 합니다. 

그런 삼각형에 대한 정리중 가장 유명한 피타고라스의 정리는
*빗변^2 = 밑변^2 + 높이^2
라는 발견입니다.

직각 삼각형에서만 유효한 공식이다 보니깐 별로 유용하지 않을것이라고 생각할수 있지만. 게임에서 생각보다 유용하게 사용할 수 있습니다. 어떨 때 유용한가하면
플레이어와 몬스터가 있다고 해보겠습니다. 각자 자신의 위치를 좌표로 가지고 있을것입니다. 그런데 x 축이나 y축이 같다면 편하게 두 오브젝트 사이의 거리를 구할 수 있겠습니다만. 
그렇지 않을 경우가 훨씬 많을텐데 이럴때 두 좌표사이의 거리를 구하는 방법으로 이 피타고라스의 정리가 사용됩니다. 
이런 거리를 구하는 공식을 게임 만들때 엔진이 대신 처리해주겠지만 내부적으로는 이런 논리로 진행된다는 것을 알고 있는것도 좋을것입니다.

# 삼각비
다음으로 삼각비입니다. 삼각비는 대표적으로 코사인(cos), 사인(sin), 탄젠트(tan)이 기본입니다. 
*cos : 빗변의 길이 / 밑변의 길이 약자로는 a/h
*sin : 빗변의 길이 / 높이의 길이  o/h
*tan : 밑변의 길이 / 높이의 길이 o/a   ( sin / cos 라고도 표현할 수 있습니다. )

이런걸 왜 알아야 하는가? 삼각비는 말그대로 직각삼각형에서 각 변사이의 비율을 나타내는겁니다.
세 각의 각도가 모두 같은 삼각형이라면, 크기(각 변의 길이)가 달라도 삼각비는 유지가 될 것입니다.
그래서 직각삼각형의 예각의 각도만 알수 있다면 나머지 각과 직각을 구할 수 있으니 삼각형의 여러가지 정보를 유추해 낼 수 있을것입니다.

이 삼각함수, 삼각비라는 것은 직각 삼각형에서만 통용되는 개념이다보니까 각도 합이 180인 한정적인 상황에서만 사용할 수 있는게 아닐까 생각할 수 있습니다. 예를 들어 cos 1000도 는 말이 안되보입니다. 
하지만 여기서 단위 원(unit circle)이라는 개념을 확장 시키면 말이 달라질 것입니다.  

*단위 원 이란 개념적으로 원의 중심이 (0, 0)이고 반지름이 1인 원을 말합니다. 

그럼 이 단위 원과 삼각비가 무슨 관계가 있는가 하면 원에서 1사분면의 어떤 점을 찍었을때 x좌표는 cos이 되고, y좌표는 sin이 됩니다. 
왜 그러냐 하면 원의 반지름 부터 1이라고 하였는데 cos은 밑변 / 빗변(길이 1)  이라고 하였는데 즉, cos = 밑변 / 1 밑변이 cos이 됩니다. 같은 원리로 sin도 높이가 sin이 되는 겁니다. 

그리고 1사분면에서를 가정했었는데 1사분면은 일반적인 0 ~ 90 도 까지의 각도에 대한 것이고 sin, cos의 부호에따라 1,2,3,4 분면중 어디에 점이 찍혔는지 알 수 있습니다. 
예를들어 130도 정도에 점을찍어보면 이미 예각의 크기가 90도를 넘어서 삼각형이라고 볼 수는 없지만 x, y 좌표는 있을것입니다. x 좌표는 음수지만 그 절대값은 cos이라고 할 수 있고 y좌표는 그대로 sin이라고 할 수 있습니다.
즉 2사분면에서는 cos은 음수, sin은 양수입니다. 
3사분면에서는 cos, sin 둘다 음수일것이고 4사분면에서는 cos은 양수, sin은 음수가 될것입니다. 

tan의 경우는 sin / cos 인데 단위원에서 직접적으로 구하는 방법은 원위의 점에서 원에 수직으로 접하는 선이 x축에 닿는 거리가 tan입니다. 그런데 이렇게 어렵게 구하는 것보다 sin/cos이 tan이기도 하니깐 
sin, cos값이 더 중요합니다.

sin과 cos에 대한 어떤 성질이 한가지 더 있는데 x, y 그래프에서 단위원에서의 삼각비라면 cos이 x좌표값과 같다고 했습니다. 예를들어 60도인 삼각형에서 cos값이 a라고 했을때,
60도는 x축에서 반시계방향으로, 양의 방향으로 60도만큼의 각도입니다. 그런데 -60도 시계방향으로 60도 만큼 각도인 삼각형에서도 cos은 양의 값을 가집니다. 
즉, cos(60) = cos(-60)이고 반면 sin은 sin(60) = -sin(-60)입니다.
수학에서 이 코사인 처럼 함수의 인자의 부호가 반대라도 값이 같은 함수를 짝함수(우함수) 라고 합니다. (ex. f(x) = f(-x) )
	사인처럼 함수의 인자의 부호가 반대이면 값의 부호도 반대인 함수를 홀함수(기함수)라고 합니다. (ex. f(x) = -f(-x) ) 


# 호도법
지금까지 각 사분면에서의 sin, cos을 구하는 방법을 알아 봤고 다음으로 각도에 대해 알아보겠습니다. 
일반적으로 초등학교때부터 배워온 360도를 사용하는 각도법의 이름은 바빌로니아 각도법이라고 합니다. 사실을 0 부터 360이라는 범위가 어디서 유래 했는지 명확하지 않습니다. 
360이라는 숫자가 과학적으로 특히 더 유용한것도 아닌것 같습니다. 그저 예전부터 사용해 왔고 2,3,5같은 흔한숫자로도 잘 나뉘고 그런 점은 있지만,
수학적으로 특별한 의미를 갖지는 못하는 단점이 있습니다.

그래서 실질적으로 게임, 수학, 과학 에서는 호도법이라고 하는 각도법을 사용합니다. 
*호도법 : 호의 길이를 이용해서 각도를 표시하는 방법
호도법에서 호(원을 이루는 곡선)의길이가 1이되는 점들과 원의 중심에서의 각도가 1라디안(rad)이라고 합니다. 
그러면 이런 의문이 생겼습니다. 1라디안이 그런 의미인건 알겠는데 우리가 사용하던 바빌로니아 각도법에서는 몇도라는 이야기인가?

360도를 호도법에서는 2파이 입니다.  여기서 1파이가 3.14정도라고 알고 있고, 다시 여기서 1라디안을 구해보면 대략 1라디안은 57도 정도가 된다고 알 수 있습니다.

자주사용하는 각도를 호도법과 360각도 법으로 보면 
360도 = 2파이
180도 = 1파이
90도 = 파이/2
60도 = 파이/3
45도 = 파이/4
30도 = 파이/6
이런 호도법을 사용한다고 해서 지금까지 배운 삼각비들 사인, 코사인, 탄젠트의 의미가 달라지거나 하는것은 아니긴 합니다. 그저 단위가 달라지는 정도의 의미입니다. 


# 삼각비 그래프 

삼각비에서 사인, 코사인이 중요한 만큼 좀 더 알아보겠습니다. 사인 코사인이 단위원에서 어떤 의미인지를 알았고 
이번에는 x축은 각도, y축은 삼각비의 값인 그래프에서 sin, cos을 알아보겠습니다. 
(이미지는 구글에서 삼각비 그래프를 검색한 것으로 참고하게습니다. )

코사인은 짝함수(우함수)라고 했는데 짝함수의 특징으로 그래프에서 y축을 기준으로 대칭을 이루고 있습니다. 그래서 각도의 부호가 달라도 절대값에따라 y축값이 같습니다.
사인은 홀함수(기함수)라고도 했었고 홀함수의 특징으로는 그래프에서 원점(0, 0)을 기준으로 대칭을 이루고 있습니다.

일반적으로 직각삼각형을 보면서 삼각비를 생각하면 3 각의 합이 180도를 넘을 수 없으니까지 직각을 뺀 두 각이 0 부터 90까지의 각도만 있을것이라고 생각이 되지만 
삼각함수에서는 각도가 무한한 값이 올 수 있습니다. 기준원에서 a라는 각도의 cos값과 360도 + a도 의 cos값이 같습니다. 원을 한바퀴 뺑 돌아서 같은위치에 빗변이 옵니다.
도형으로서의 삼각형은 그럴 수 없지만, 삼각함수에서 개념적으로는 그렇다는 말입니다. 이렇게 360도, 호도법으로는 2파이가 한 주기가 됩니다. 
2파이라는 주기를 가지고 파동의 형태를 하고 있다는것을 알 수 있습니다. 
여기서 또 눈에 띄는것은 코사인은 0라디안일때 값이 1이고 사인은 파이/2일때 값이 1입니다. 둘이 비슷한 모양을 하고 있고 2파이만큼 움직이면 서로 그래프가 곂칩니다.
수학에서 그래프를 x축방향으로 움직이고 싶을때는 함수의 인자에 -(움직일 만큼) 을 더해주면 됩니다. (왜 -만큼을 더해주는가 이상할 수 있지만 직접 계산하면 그렇습니다.)
여기서 알수 있는것은 사인 그래프를 - 방향으로 파이/2만큼 움직이면 코사인 그래프와 곂치게 된다.
sin(x+파이/2) = cos(x)
sin(x-파이/2) = -cos(x)
추가로 탄젠트의 경우는 사인, 코사인과 다른 특이한 형태를 하고 있습니다. 탄젠트 = 사인 / 코사인 이라고 했으니 
만약 각도가 0에 한없이 가깝다고 한다면 사인(0근사) / 코사인(1근사) 이므로 탄젠트의 값은 0근사값입니다. 
또 만약 각도가 파이/2에 한없이 가까울 때는 사인(1근사) / 코사인(0근사) 이므로 탄젠트의 값은 무한대의 근사치를 가지게 됩니다. 반대로 -파이/2는 -무한대에 가깝습니다.


물론 우리가 이런 성질을 항상 기억하도록 달달 외워야 하는것은 아니고 이런 성질이 있다는걸 다시 배워보는 중 입니다. 
다시 수능을 준비한다던가 하는 상황이라면 삼각함수로 온갖 방법으로 다룰수 있어야 하니깐 심각하게 배워야 하겠습니다.

# 삼각함수의 역함수
다음으로는 삼각함수의 역함수에 대해 알아보겠습니다. 
역함수 : 정의역과 치역(함수값)을 뒤바꾸어 얻는 함수(그래프로 보면 x축과 y축이 의미하는 바를 바꿔서 표현하는 함수)
정의역 : 함수에서 허용하는 입력 집합, f(x) = y 라는 함수에서 x에 올 수 있는 수의 범위
치역 : 함수에서 입력값이 함수를 통해 나올 수 있는 출력 집합, f(x) = y 라는 함수에서 y에 올 수 있는 수의 범위

방금 위에서 배운 삼각함수 그래프에서 정의역, x의 범위는 -무한 에서 무한 까지의 수가 올 수 있었습니다. 반면 치역, y의 범위는 -1에서 1까지의 값만 왔었습니다. 
cosA = B , sinA = B 에서 B는 -1 부터 1까지의 숫자 였지만 이 숫자는 사실 삼각비였습니다. 즉 각도가 주어지면 그 비율을 알아내는 함수였습니다. 
여기서 역으로 삼각비를 알지만 각도를 몰라서 그걸 알고 싶을 수 있습니다. 이런식으로 인자와 값이 뒤바뀌는것을 역함수라고 하는데 표현할때는 앞에 arc를 붙혀서 표현하게 됩니다. 
arcsin(B) = A
arccos(B) = A
arctan(B) = A

왜 x, y의 범위에 대해 언급을 했었냐 하면, 함수의 성질중 함수는 어떤 값을 넣으면 그에 대응하는 단 하나의 값만 반환 되야합니다. 
sin, cos, tan의 값은 -1에서 1사이의 값 하나만 나오는것입니다. 
그런데 역함수에서는 비율을 얻고자 하는것이 아니라 각도를 얻고자 하는것입니다. 그러면 B라는 비율에 해당하는 각도는 A도 있고 2파이+A도 있고 4파이+A도 있고 이런식으로 
하나의 함수에 대응하는 값이 여러개가 올수 있습니다. 그래서 삼각함수의 역함수의 치역은 범위가 설정되어있습니다. 
arccos의 경우는 정의역은 -1에서 1, 치역은 0에서 파이 까지가 범위입니다. 
arcsin은 정의역이 -1 에서 1, 치역은 -파이/2 에서 파이/2까지 ,
arctan은 정의역은 -무한에서 무한, 치역은 -파이/2 에서 파이/2까지입니다. 
이렇게 치역의 범위가 정해져 있는것이 역삼각함수의 특징입니다.

여기까지 삼각함수의 기본 이해는 얼추 다 한것 같습니다. 
다음으로 배워볼것은 우리가 삼각함수를 사용할때 자주 사용하는 공식들이 있습니다. 

# 자주사용되는 삼각함수 공식들

1. 코사인 법칙 : a^2 = b^2 + c^2 - 2bc(cosX)
> 증명은 임의의 삼각형ABC가 있다고 했을때 각 꼭지점 ABC의 반대편에 있는 선분을 abc라고 하겠습니다.  그리고 B에서부터 수선으로 내려온 점을 D라고 하고 꼭지점 A의 각도를 X라고 하겠습니다.
삼각형 ABD에서 빗변이 c이고 선분AD의 길이는 c*cosX입니다.(빗변c를 나누면 단위원에서 구했던 cosX가 나옵니다.) 선분 BD의 길이는 c*sinX입니다. 
그리고 삼각형 BCD에서 빗변은 a이고 선분CD는 b-(c*cosX)이고 선분 BD는 그대로 c*cosX입니다. 
이때 피타고라스의 정리에 의해 선분 a의 길이를 구하려면 
a^2 = (b-(c(cosX)))^2 + (c(sinX))^2 입니다. 식을 전개 해보겠습니다.  a^2 = b^2 -2bc(cosX) + c^2(cos^2X) + c^2(sin^2X) 입니다. 공통된 것을 묶으면 
a^2 = b^2 + c^2(cos^2X + sin^2X) - 2bc(cosX) 입니다. 괄호안의 값은 단위원에서의 피타고라스의 정리를 적용할수 있으니 곧 값이 1입니다. 
다시 정리하면 a^2 = b^2 + c^2 -2bc(cosX) 가 됩니다. 
코사인 법칙은 항상 외우고 있을 것은 아니지만 언젠간 사용하게 될 것입니다. 중학교때 배웠던 코사인 법칙을 지금 다시 공부 했듯 나중에 잊어버리게 되면 그때 다시 공부하면 되겠습니다. 

코사인 법칙은 어찌 보면 피타고라스 정리의 일반화 라고 볼 수 있습니다. 피타고라스 정리는 꼭지점A의 각도가 90도인 직각삼각형에서만 유효했던 법칙이었습니다. 
그리고 코사인 법칙에서 -2bc(cosX) 의 부분에서 각도 X가 90도라면 cos90도는 0이기 때문에 -2bc(cosX)는 0으로 치환되서 a^2 = b^2 + c^2가 됩니다.

지금 배운내용에서 꼭 기억할게 있다면 cos^2 + sin^2은 1이라는것을 꼭 가져가야 하겠습니다.

2. 코사인 덧셈 정리 :(cos(A+B)) 
> 코사인 덧셈 정리는 cos의 인자가 A, B라는 두 각도가 더해졌을 때 어떻게 되느냐에 대한 정리입니다. 나중에 회전 행렬을 배울때 활용하게 될 것입니다.
삼각함수에서 각도를 더하는 경우의 수는 총 4개가 있을겁니다. cos(A+B) , cos(A-B), sin(A+B), sin(A-B) 이 중 코사인에서 더하거나 빼는 건 보통 코코사사 라고 외웁니다. 거기에 부호를 반대로 해줍니다.
cos(A+B) = cosA*cosB - sinA*sinB
cos(A-B) = cosA*cosB + sinA*sinB
그리고 사인에서 각도를 더하거나 빼는건 사코코사라고 보통 외웁니다. 부호는 그대로 갑니다. 
sin(A+B) = sinA*cosB + cosA*sinB
sin(A-B) = sinA*cosB - cosA*sinB 
코사인 덧셈정리의 결과물을 이렇고 다음으로 증명을 해보겠습니다.
이 정리를 증명하는 방법은 여러가지 있는데 그 중 가장 직관적인 방법은 피타고라스법칙과 코사인 법칙을 같이 사용하는 것입니다.
가정은 단위원에서 각도 A, B가 있는데 A는 B보다 각도가 큽니다. 각각의 각도로 단위원에 접하는 점을 a, b 라고 하고 원점을 o라고 하겠습니다.
여기서 삼각형 abo의 선분 ab를 구하려고합니다. 이때 피타고라스의 정리와 코사인법칙 두방법으로 모두 구해보겠습니다. 

(1) 피타고라스정리로 선분 ab의 길이를 구하기 
> 피타고라스의 정리는 삼각형이 직각 삼각형이어야 합니다. A-B의 각도가 직각인지 확실치 않은 상태에서 직각 삼각형을 그리려면 각 점 a, b의 x좌표, y좌표의 값의 차를 이용하면 
선분ab를 빗변으로 사용하는 직각 삼각형을 구할 수 있습니다. 식으로 표현하자면
(선분ab)^2 = (cosA - cosB)^2 + (sinA - sinB)^2   이 식을 전개하겠습니다. 
(선분ab)^2 = (cosA)^2 - 2cosA*cosB + (cosB)^2 + (sinA)^2 -2sinA*sinB +(sinB)^2  입니다. 여기서 눈에 띄는 cos^2 + sin^2의 형태의 식이 두개 보입니다. (cosA)^2+(sinA)^2+(cosB)^2+(sinB)^2
각각 1로 치환해서 식을 다시 정리하겠습니다. 
(선분ab)^2 = 2 - 2(cosA*cosB +sinA*sinB)

(2) 코사인 정리로 선분 ab의 길이를 구하기
> 다음으로 코사인 정리를 사용해서 선분의 길이를 구해보겠습니다.  코사인 정리는 a^2 = b^2 + c^2 -2bc*cosX 입니다. 
여기서 우리 가정의 삼각형abo의 각도 X는 A-B이고 단위원에서의 밑변, 높이의 길이는 1이므로 사실상 
(선분ab)^2 = 1^2 + 1^2 - 2*1*1(cos(A-B)) 입니다. 정리하면 
(선분ab)^2 = 2 - 2*cos(A-B) 입니다.

이제 피타고라스 법칙, 코사인 정리 두 방법으로 선분ab의 길이를 구했습니다. 두 방법의 식이 서로 다르지만 선분ab를 대상으로 했다는 것은 같으니 결과가 같아야 합니다. 그래서 정리해보면
 2 - 2(cosA*cosB + sinA*sinB) = 2 - 2(cos(A-B))  이라는 것이 성립됩니다. 다시 상수들을 상쇄해보면 이렇게 정리됩니다. 
cos(A-B) = cosA*cosB + sinA*sinB
위에서 나온 코사인 덧셈 정리의 두번째 식을 증명하게 된것입니다. 이렇게 한가지 식만 정리 되면 나머지 3개의 식은 따라오는데요 
예를 들어 cos(A - (-B)) 이렇게 생각하면 cos(A+B)를 증명하게되는데 우현을 보면 (cosA)(cos(-B)) + (sinA)(sin(-B)) 입니다. 
cos은 짝함수로 부호가 바뀌어도 값이 변하지 않았습니다. sin은 홀함수로 부호가 바뀌면 값의 부호도 같이 바뀌었습니다. 다시 식을 정리하면
cos(A+B) = cosA*cosB - sinA*sinB 가 되겠습니다.
sin의 경우는 sin과 cos이 아예 관계가 없는게 아니었습니다. sinX = cos(X - 파이/2)를 활용해서 증명하면 되겠습니다. 
sin(A+B) = cos(A+B +(-파이/2)) = cosA*cos(B-pi/2) - sinA*sin(B-pi/2) 이고  여기서 cos(B-pi/2)는 sinB로 치환될수 있고 sin(B-pi/2) 는 -cosB로 치환 될수 있습니다. 따라서 정리하면
sin(A+B) = sinA*cosB + cosA*sinB 입니다.

여기까지 오랜만의 삼각함수를 다시 배워봤는데요 이정도 내용이 게임을 만들때 사용되는 정도의 삼각함수라고 합니다. 

 

 


 